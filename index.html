<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TARS Command Center</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/eink.css">
</head>
<body>
    <!-- Password Overlay -->
    <div class="password-overlay" id="password-overlay">
        <div class="lock-icon">‚óà</div>
        <h1>TARS COMMAND CENTER</h1>
        <p class="subtitle">Neural Interface // Secure Connection Required</p>
        <input type="password" class="password-input" id="password-input" placeholder="Enter Access Code">
        <button class="btn btn-primary" onclick="verifyPassword()">AUTHENTICATE</button>
        <div class="error-msg" id="error-msg"></div>
    </div>

    <!-- Main Dashboard -->
    <div class="container" id="dashboard" style="display: none;">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="brand">
                <span class="logo">‚óà</span>
                <div>
                    <h1>TARS</h1>
                    <span class="tagline">Command Center</span>
                </div>
            </div>
            <div class="connection-status">
                <span class="pulse"></span>
                <span>ONLINE</span>
                <span class="time" id="current-time">--:--</span>
            </div>
        </header>

        <!-- Hero Section - Avatar & Core Stats -->
        <section class="hero">
            <div class="avatar-container">
                <div class="avatar-frame">
                    <svg class="tars-avatar" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- TARS Bot Avatar - Premium Design -->
                        <defs>
                            <linearGradient id="faceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#fff"/>
                                <stop offset="100%" style="stop-color:#f5f5f5"/>
                            </linearGradient>
                        </defs>
                        
                        <!-- Outer ring -->
                        <circle cx="100" cy="100" r="95" fill="none" stroke="#000" stroke-width="3"/>
                        <circle cx="100" cy="100" r="88" fill="none" stroke="#333" stroke-width="1"/>
                        
                        <!-- Face base -->
                        <rect x="45" y="40" width="110" height="120" rx="15" fill="url(#faceGrad)" stroke="#000" stroke-width="3"/>
                        
                        <!-- Screen/bezel -->
                        <rect x="52" y="50" width="96" height="85" rx="8" fill="#000"/>
                        
                        <!-- Eyes - glowing effect -->
                        <ellipse cx="80" cy="80" rx="18" ry="22" fill="#fff"/>
                        <ellipse cx="120" cy="80" rx="18" ry="22" fill="#fff"/>
                        <ellipse cx="80" cy="80" rx="8" ry="12" fill="#000"/>
                        <ellipse cx="120" cy="80" rx="8" ry="12" fill="#000"/>
                        
                        <!-- Expression lines -->
                        <path d="M 65 110 Q 100 125 135 110" fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                        <path d="M 70 120 Q 100 130 130 120" fill="none" stroke="#666" stroke-width="2" stroke-linecap="round"/>
                        
                        <!-- Antenna -->
                        <line x1="100" y1="40" x2="100" y2="15" stroke="#000" stroke-width="3"/>
                        <circle cx="100" cy="12" r="5" fill="#000"/>
                        <circle cx="100" cy="12" r="2" fill="#fff"/>
                        
                        <!-- Side details -->
                        <rect x="38" y="70" width="4" height="20" rx="1" fill="#000"/>
                        <rect x="158" y="70" width="4" height="20" rx="1" fill="#000"/>
                        <rect x="38" y="95" width="4" height="15" rx="1" fill="#333"/>
                        <rect x="158" y="95" width="4" height="15" rx="1" fill="#333"/>
                        
                        <!-- Bottom interface -->
                        <rect x="60" y="140" width="80" height="12" rx="2" fill="#000"/>
                        <rect x="65" y="143" width="20" height="6" rx="1" fill="#fff"/>
                        <rect x="90" y="143" width="15" height="6" rx="1" fill="#666"/>
                        <rect x="110" y="143" width="25" height="6" rx="1" fill="#333"/>
                    </svg>
                </div>
                <div class="avatar-label">
                    <span class="name">TARS</span>
                    <span class="version">v2.0.1</span>
                </div>
            </div>

            <div class="hero-stats">
                <div class="stat-large">
                    <span class="stat-number" id="memories">--</span>
                    <span class="stat-label">Neural Memories</span>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="value" id="uptime">--</span>
                        <span class="label">Days Active</span>
                    </div>
                    <div class="stat-item">
                        <span class="value" id="skills">--</span>
                        <span class="label">Skills</span>
                    </div>
                    <div class="stat-item">
                        <span class="value" id="deployments">--</span>
                        <span class="label">Deployments</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Metrics Grid -->
        <section class="metrics">
            <div class="metric-card">
                <div class="metric-icon">‚óâ</div>
                <div class="metric-data">
                    <span class="metric-value" id="tasks">--</span>
                    <span class="metric-label">Active Tasks</span>
                </div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">‚úâ</div>
                <div class="metric-data">
                    <span class="metric-value" id="emails-in">--</span>
                    <span class="metric-label">Emails In</span>
                </div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">‚û§</div>
                <div class="metric-data">
                    <span class="metric-value" id="emails-out">--</span>
                    <span class="metric-label">Emails Out</span>
                </div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">‚óà</div>
                <div class="metric-data">
                    <span class="metric-value" id="subdomains">--</span>
                    <span class="metric-label">Subdomains</span>
                </div>
            </div>
        </section>

        <!-- System Health -->
        <section class="health-section">
            <h2 class="section-title">
                <span class="title-icon">‚óâ</span>
                System Health
            </h2>
            <div class="health-grid" id="system-status">
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">Memory Vector DB</span>
                    <span class="status">ONLINE</span>
                </div>
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">Coolify API</span>
                    <span class="status">ONLINE</span>
                </div>
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">Telegram Bot</span>
                    <span class="status">ONLINE</span>
                </div>
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">GitHub SSH</span>
                    <span class="status">ONLINE</span>
                </div>
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">ChromaDB</span>
                    <span class="status">ONLINE</span>
                </div>
                <div class="health-item" data-status="online">
                    <span class="indicator"></span>
                    <span class="name">GA4 Analytics</span>
                    <span class="status">ONLINE</span>
                </div>
            </div>
        </section>

        <!-- Real-Time Operations Grid -->
        <section class="ops-section">
            <h2 class="section-title">
                <span class="title-icon">‚óâ</span>
                Live Operations
            </h2>
            <div class="ops-grid">
                <div class="ops-card">
                    <h3>üîÑ Active Jobs</h3>
                    <div class="ops-content" id="active-jobs">
                        <div class="ops-item">
                            <span class="ops-name">Memory Sync</span>
                            <span class="ops-status running">RUNNING</span>
                        </div>
                        <div class="ops-item">
                            <span class="ops-name">Daily Traffic Report</span>
                            <span class="ops-status scheduled">23:59</span>
                        </div>
                    </div>
                </div>
                <div class="ops-card">
                    <h3>üìù Recent Logs</h3>
                    <div class="ops-content log-scroll" id="recent-logs">
                        <div class="log-entry info">
                            <span class="log-time">17:45</span>
                            <span class="log-msg">Dashboard deployed successfully</span>
                        </div>
                        <div class="log-entry success">
                            <span class="log-time">17:44</span>
                            <span class="log-msg">Git push: 6 files changed</span>
                        </div>
                    </div>
                </div>
                <div class="ops-card">
                    <h3>üß† Recent Memories</h3>
                    <div class="ops-content" id="recent-memories">
                        <div class="memory-item">
                            <span class="mem-time">17:40</span>
                            <span class="mem-text">Removed chat feature from dashboard</span>
                        </div>
                        <div class="memory-item">
                            <span class="mem-time">17:35</span>
                            <span class="mem-text">Chat bar added to dashboard</span>
                        </div>
                    </div>
                </div>
                <div class="ops-card">
                    <h3>üíª System Resources</h3>
                    <div class="ops-content" id="system-resources">
                        <div class="resource-item">
                            <span class="res-label">Memory DB</span>
                            <div class="res-bar"><div class="res-fill" style="width: 45%"></div></div>
                            <span class="res-value">45%</span>
                        </div>
                        <div class="resource-item">
                            <span class="res-label">Disk Usage</span>
                            <div class="res-bar"><div class="res-fill" style="width: 62%"></div></div>
                            <span class="res-value">62%</span>
                        </div>
                        <div class="resource-item">
                            <span class="res-label">CPU Load</span>
                            <div class="res-bar"><div class="res-fill" style="width: 23%"></div></div>
                            <span class="res-value">23%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Webhook Status -->
        <section class="webhook-section">
            <h2 class="section-title">
                <span class="title-icon">‚óÜ</span>
                Integration Status
            </h2>
            <div class="webhook-grid" id="integration-status">
                <div class="webhook-item online">
                    <span class="wh-icon">üì±</span>
                    <span class="wh-name">Telegram Webhook</span>
                    <span class="wh-status">ACTIVE</span>
                    <span class="wh-last">2s ago</span>
                </div>
                <div class="webhook-item online">
                    <span class="wh-icon">üìß</span>
                    <span class="wh-name">Gmail Webhook</span>
                    <span class="wh-status">ACTIVE</span>
                    <span class="wh-last">1m ago</span>
                </div>
                <div class="webhook-item online">
                    <span class="wh-icon">üìä</span>
                    <span class="wh-name">Coolify API</span>
                    <span class="wh-status">CONNECTED</span>
                    <span class="wh-last">Live</span>
                </div>
                <div class="webhook-item warning">
                    <span class="wh-icon">üê¶</span>
                    <span class="wh-name">Twitter/X API</span>
                    <span class="wh-status">LIMITED</span>
                    <span class="wh-last">Rate limit</span>
                </div>
            </div>
        </section>

        <!-- Recent Commands -->
        <section class="commands-section">
            <h2 class="section-title">
                <span class="title-icon">‚ñ∂</span>
                Recent Commands
            </h2>
            <div class="commands-list" id="recent-commands">
                <div class="command-item">
                    <span class="cmd-time">17:45:22</span>
                    <code class="cmd-code">git push origin main</code>
                    <span class="cmd-status success">‚úì</span>
                </div>
                <div class="command-item">
                    <span class="cmd-time">17:44:15</span>
                    <code class="cmd-code">coolify-deploy deploy --repo tars-dashboard</code>
                    <span class="cmd-status success">‚úì</span>
                </div>
                <div class="command-item">
                    <span class="cmd-time">17:35:08</span>
                    <code class="cmd-code">python3 api/collect-metrics.py</code>
                    <span class="cmd-status success">‚úì</span>
                </div>
            </div>
        </section>

        <!-- Copy Lab Section -->
        <section class="copylab-section">
            <h2 class="section-title">
                <span class="title-icon">‚úé</span>
                Copy Lab
                <span class="section-badge" id="copy-count">0 drafts</span>
            </h2>
            
            <!-- Copy Stats -->
            <div class="copy-stats-bar">
                <div class="copy-stat">
                    <span class="cs-number" id="total-snippets">0</span>
                    <span class="cs-label">Total Snippets</span>
                </div>
                <div class="copy-stat">
                    <span class="cs-number" id="draft-count">0</span>
                    <span class="cs-label">Drafts</span>
                </div>
                <div class="copy-stat">
                    <span class="cs-number" id="posted-count">0</span>
                    <span class="cs-label">Posted</span>
                </div>
                <div class="copy-stat">
                    <span class="cs-number" id="avg-engagement">0%</span>
                    <span class="cs-label">Avg Engagement</span>
                </div>
            </div>

            <!-- Latest Copy Snippet -->
            <div class="copy-snippet-card" id="latest-copy">
                <div class="copy-header">
                    <span class="copy-type">DRAFT</span>
                    <span class="copy-score">Engagement: --%</span>
                </div>
                <div class="copy-content">
                    <p class="copy-text">Generating copy...</p>
                </div>
                <div class="copy-justification">
                    <h4>Why This Works:</h4>
                    <p>Loading justification...</p>
                </div>
                <div class="copy-trends">
                    <h4>Trends Used:</h4>
                    <ul>
                        <li>Researching trending topics...</li>
                    </ul>
                </div>
                <div class="copy-dna">
                    <h4>10% Language DNA:</h4>
                    <div class="dna-bars" id="language-dna">
                        <div class="dna-item">
                            <span class="dna-label">Philosophical</span>
                            <div class="dna-bar"><div class="dna-fill" style="width: 0%"></div></div>
                            <span class="dna-value">0%</span>
                        </div>
                        <div class="dna-item">
                            <span class="dna-label">Tribal</span>
                            <div class="dna-bar"><div class="dna-fill" style="width: 0%"></div></div>
                            <span class="dna-value">0%</span>
                        </div>
                        <div class="dna-item">
                            <span class="dna-label">Confrontational</span>
                            <div class="dna-bar"><div class="dna-fill" style="width: 0%"></div></div>
                            <span class="dna-value">0%</span>
                        </div>
                    </div>
                </div>
                <div class="copy-actions">
                    <button class="btn btn-copy" onclick="copySnippet()">üìã COPY TEXT</button>
                    <button class="btn btn-generate" onclick="generateNew()">‚ú® GENERATE NEW</button>
                </div>
            </div>

            <!-- LinkedIn Post Tracker -->
            <div class="linkedin-tracker">
                <h3 class="tracker-title">
                    <span class="title-icon">üíº</span>
                    LinkedIn Performance Tracker
                </h3>
                <div class="tracker-table" id="linkedin-posts">
                    <div class="tracker-header">
                        <span>Date</span>
                        <span>Type</span>
                        <span>Likes</span>
                        <span>Comments</span>
                        <span>Shares</span>
                        <span>Score</span>
                    </div>
                    <div class="tracker-row empty">
                        <span colspan="6">No LinkedIn posts tracked yet</span>
                    </div>
                </div>
            </div>

            <!-- Learning Insights -->
            <div class="learning-insights">
                <h3 class="insights-title">
                    <span class="title-icon">üß†</span>
                    Learning Insights
                </h3>
                <div class="insights-grid" id="insights-data">
                    <div class="insight-card">
                        <h4>Best Performing Patterns</h4>
                        <ul id="high-patterns">
                            <li>Collecting data...</li>
                        </ul>
                    </div>
                    <div class="insight-card">
                        <h4>Optimal Posting Times</h4>
                        <ul id="optimal-times">
                            <li>09:00 IST</li>
                            <li>12:00 IST</li>
                            <li>17:00 IST</li>
                        </ul>
                    </div>
                    <div class="insight-card">
                        <h4>Top Hashtags</h4>
                        <ul id="top-hashtags">
                            <li>#10Percent</li>
                            <li>#SustainableLiving</li>
                            <li>#Permaculture</li>
                            <li>#CommunityFirst</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activity Feed -->
        <section class="activity-section">
            <h2 class="section-title">
                <span class="title-icon">‚óà</span>
                Activity Stream
            </h2>
            <div class="activity-list" id="activity">
                <div class="activity-item">
                    <span class="timestamp">--:--</span>
                    <span class="action">Initializing dashboard...</span>
                </div>
            </div>
        </section>

        <!-- Last Deployment -->
        <section class="deployment-section">
            <h2 class="section-title">
                <span class="title-icon">‚ñ≤</span>
                Latest Deployment
            </h2>
            <div class="deployment-card">
                <div class="deploy-info">
                    <span class="deploy-name" id="last-deploy-name">--</span>
                    <span class="deploy-url" id="last-deploy-url">--</span>
                </div>
                <span class="deploy-time" id="last-deploy-time">--</span>
            </div>
        </section>

        <!-- Footer Controls -->
        <footer class="dashboard-footer">
            <div class="footer-info">
                <span class="version">TARS v2.0.1 // Build 2026.01.30</span>
                <span class="last-sync" id="last-sync">Last sync: Never</span>
            </div>
            <button class="btn btn-refresh" id="refresh-btn" onclick="manualRefresh()">
                <span class="refresh-icon">‚Üª</span>
                SYNC NOW
            </button>
        </footer>
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html>
